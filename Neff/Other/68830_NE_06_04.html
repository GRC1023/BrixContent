<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Template for Multiple Choice Question Brix" name="description">
   
    <!-- brix.css contains styling for the interactive brix -->
    <link href="css/brix.css" rel="stylesheet">
</head>
<body>
    <div id="b4d9212f463a644dd8261b1b414b6c95a"></div>
    <script src="js/d3.v3.min.js"></script>
    
	<script src="js/brixlib-compiled.js"></script>

    <script type="text/javascript">
	// Create an object that will contain the objects needed for the activities
	// on this page.
	pearson.brix.activity = {};
	var a = pearson.brix.activity;

	// The activity config that defines the brix and mortar for this page
	a.config =
		{
			"description": "How a nuclear reactor works",
			"containerConfig":
				[
					{
						"description": "container for the graph and labels",
						"containerId": "b4d9212f463a644dd8261b1b414b6c95a",
						"brixConfig":
							[
								{
									"bricId": "imageGraph",
									"bricType": "Image",
									"config":
										{
											"id": "image1",
                                            "caption": "How nuclear fuel is made from uranium",
                                            "actualSize": {"height": 418, "width": 599}
										},
                                    "configFixup":
                                        [
                                            {
                                                "type": "set-property",
                                                "name": "URI",
                                                "value":
                                                    {
                                                        "type": "join",
                                                        "parts":
                                                        [
                                                            { "type": "ref", "domain": "info", "refId": "imgBaseUrl" },
                                                            { "type": "constant", "value": "img/68830_NE_06_04.png" }
                                                        ]
                                                    }
                                            }
                                        ]
								},
                                {
                                    "bricId": "labelGroup1",
                                    "bricType": "LabelGroup",
                                    "config":
                                        {
                                            "id": "dataLabels",
                                            "type": "numbered",
                                            "labels": [
                                                        {"content": "1", "xyPos": [0.04, 0.3], "width": 0},
                                                        {"content": "2", "xyPos": [0.05, 0.55], "width": 0},
                                                        {"content": "3", "xyPos": [0.31, 0.62], "width": 0},
                                                        {"content": "4", "xyPos": [0.61, 0.62], "width": 0},
                                                        {"content": "5", "xyPos": [0.63, 0.29], "width": 0},
                                                    ]
                                        }
                                },
								{
									"bricId": "cntr1",
									"bricType": "SvgContainer",
									"config":
										{
											"maxSize": {"height": 418, "width": 579}
										},
									"configFixup":
                                        [
                                            {
                                                "type": "set-property",
                                                "name": "node",
                                                "value":
                                                    {
                                                        "type": "d3select",
                                                        "selector": "#b4d9212f463a644dd8261b1b414b6c95a"
                                                    }
                                            }
                                        ]
								}
							],
						"hookupActions":
							[
								{
									"description": "Append the image to the svg container",
									"type": "method-call",
									"instance": {"type": "ref", "domain": "brix", "refId": "cntr1"},
									"methodName": "append",
									"args":
										[
											{ "type": "ref", "domain": "brix", "refId": "imageGraph" }
										]
								},
                                {
                                    "description": "Append the labels to the svg container",
                                    "type": "method-call",
                                    "instance": {"type": "ref", "domain": "brix", "refId": "cntr1"},
                                    "methodName": "append",
                                    "args":
                                        [
                                            { "type": "ref", "domain": "brix", "refId": "labelGroup1" }
                                        ]
                                },
                                {
                                    "description": "Initial condition: select 1st label",
                                    "type": "method-call",
                                    "instance": {"type": "ref", "domain": "brix", "refId": "labelGroup1"},
                                    "methodName": "lite",
                                    "args":
                                        [
                                            { "type": "constant", "value": "0" }
                                        ]
                                }
							]
					},
					{
                        "description": "The container contains the liteable callouts",
                        "containerId": "b4d9212f463a644dd8261b1b414b6c95a",
                        "brixConfig":
                            [
                                {
                                    "bricId": "lbltbl1",
                                    "bricType": "Callouts",
                                    "config":
                                        {
                                            "id": "callme",
                                            "show": "all",
                                            "type": "numbered",
                                            "textBits":
                                                [    
                                                    {"cols": ["In a closed circuit, (green) water is pumped at high pressure to the reactor core."]},
                                                    {"cols": ["Heat is generated by fission in the fuel rods in the reactor core, which heats the circulating water. Thick layers of concrete and steel or lead contain the reactor core's radioactivity."]},
                                                    {"cols": ["In the steam generator, the energy from the heated water is used to boil water from a separate supply. The resulting steam moves through a pipe to a turbine."]},
                                                    {"cols": ["The steam turns the turbine, which is connected to an electricity generator. Power lines distribute the electricity. A typical reactor produces as much as a coal-fired power plant."]},
                                                    {"cols": ["A third supply of water is used to cool the steam so it condenses into water, which is pumped back to the steam generator."]}
                                                ]
                                        }
                                }
                            ],
                       "mortarConfig":
                            [
                                {
                                    "mortarId": "hilite1",
                                    "mortarType": "Hilite",
                                    "config":
                                        {
                                            "eventDetailsProperty": "selectKey"
                                        },
                                    "configFixup":
                                        [
                                            {
                                                "type": "set-property",
                                                "name": "topic",
                                                "value":
                                                    {
                                                        "type": "brix-topic",
                                                        "bricType": "LabelGroup",
                                                        "instanceId": "dataLabels",
                                                        "eventName": "selected"
                                                    }
                                            },
                                            {
                                                "type": "set-property",
                                                "name": "targetBric",
                                                "value": { "type": "ref", "domain": "brix", "refId": "lbltbl1" }
                                            }
                                        ]
                                }, 
                                {
                                    "mortarId": "hilite2",
                                    "mortarType": "Hilite",
                                    "config":
                                        {
                                            "eventDetailsProperty": "selectKey"
                                        },
                                    "configFixup":
                                        [
                                            {
                                                "type": "set-property",
                                                "name": "topic",
                                                "value":
                                                    {
                                                        "type": "brix-topic",
                                                        "bricType": "Callouts",
                                                        "instanceId": "callme",
                                                        "eventName": "selected"
                                                    }
                                            },
                                            {
                                                "type": "set-property",
                                                "name": "targetBric",
                                                "value": { "type": "ref", "domain": "brix", "refId": "labelGroup1" }
                                            }
                                        ]
                                }
                            ], 
                        "hookupActions":
                            [
                                {
                                    "description": "draw the label table",
                                    "type": "method-call",
                                    "instance": {"type": "ref", "domain": "brix", "refId": "lbltbl1"},
                                    "methodName": "draw",
                                    "args":
                                        [
                                            { "type": "d3select", "selector": "#b4d9212f463a644dd8261b1b414b6c95a" }
                                        ]
                                },
                                {
                                    "description": "Initial condition: select 1st table row",
                                    "type": "method-call",
                                    "instance": {"type": "ref", "domain": "brix", "refId": "lbltbl1"},
                                    "methodName": "lite",
                                    "args":
                                        [
                                            { "type": "constant", "value": "0" }
                                        ]
                                }

                            ]
                    }
				]
		};

	// create the eventmanager to be used by the created brix, and the
	// bricLayer which will create them, and then tell the bricLayer to build.
	a.eventManager = new pearson.utils.EventManager();
	a.answerMan = new pearson.brix.utils.LocalAnswerMan();
	a.submitManager = new pearson.brix.utils.SubmitManager(a.eventManager, a.answerMan);

	a.bricLayer = new pearson.brix.utils.BricLayer(null, a.eventManager, a.submitManager);

	pearson.utils.logToConsole(true, "FINER");

	a.building = a.bricLayer.build(a.config);


    /* 
    a.answerMan.setMaxAttempts(a.config.maxAttempts);
	a.answerMan.registerAnswerKey(a.config.sequenceNodeKey,
								  a.config.containerConfig[0].brixConfig[0].answerKey);
	*/

    </script>
</body>
</html>
